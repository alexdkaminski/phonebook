{"version":3,"sources":["components/Search.js","components/PersonForm.js","components/DeleteButton.js","components/Person.js","components/Persons.js","components/Notification.js","services/person.js","App.js","index.js"],"names":["Search","handleSearchChange","search","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","DeleteButton","id","handleDelete","onClick","Person","person","name","number","Persons","showPersons","map","key","Notification","successMessage","errorMessage","className","baseUrl","axios","get","then","response","data","post","delete","newObject","put","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","setErrorMessage","setSuccessMessage","useEffect","personService","initialPersons","catch","err","console","log","updatePerson","window","confirm","changedPerson","returnedPerson","setTimeout","filter","toLowerCase","includes","e","target","preventDefault","personObj","some","find","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50bd800f.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Search = ( {handleSearchChange, search} ) => {\r\n\r\n  return (\r\n    <p>filter shown with  <input value={search} onChange={handleSearchChange}/> </p>\r\n  )\r\n}\r\n\r\nexport default Search","import React from 'react'\r\n\r\nconst PersonForm = ( {addPerson, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n  return (\r\n    <form onSubmit={addPerson}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      phone: <input value={newNumber} onChange={handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst DeleteButton = ( {id, handleDelete} ) => {\r\n  return(\r\n    <button id={id} onClick={handleDelete}>delete</button>\r\n  )\r\n}\r\n\r\nexport default DeleteButton","import React from 'react'\r\nimport DeleteButton from './DeleteButton'\r\n\r\nconst Person = ( {person, handleDelete} ) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} <DeleteButton id={person.id} handleDelete={handleDelete}/>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({showPersons, handleDelete}) => {\r\n  return (\r\n    <ul>\r\n    {showPersons.map(person =>\r\n      <Person key={person.id} person={person} handleDelete={handleDelete}/>\r\n    )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons\r\n","import React from 'react';\r\n\r\nconst Notification = ( {successMessage,errorMessage}) => {\r\n  if (successMessage === null && errorMessage === null ) {\r\n    return null\r\n  }\r\n\r\n  if (successMessage !== null) {\r\n    return (\r\n      <div className=\"success\">\r\n        {successMessage}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (errorMessage !== null) {\r\n    return (\r\n      <div className=\"error\">\r\n        {errorMessage}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst createPerson = (person) => {\r\n  const request = axios.post(baseUrl, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, createPerson, deletePerson, updatePerson }","import React, { useState,useEffect } from 'react'\r\nimport Search from './components/Search'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/person'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setSearch ] = useState('')\r\n  const [ errorMessage, setErrorMessage ] = useState(null)\r\n  const [ successMessage, setSuccessMessage ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialPersons => {\r\n        setPersons(initialPersons)\r\n      })\r\n      .catch(err => console.log(`an error occured: ${err}`))\r\n  }, [])\r\n\r\n  const addPerson = (e) => {\r\n    e.preventDefault()\r\n    const personObj = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    // Check if persons name is already added to db\r\n    if (!persons.some(person => person.name === newName)) {\r\n      console.log(personObj);\r\n      personService\r\n        // Add person to db\r\n        .createPerson(personObj)\r\n        // Add new person to persons state\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setSuccessMessage(`Added ${personObj.name}`)\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000);\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(err => console.log(`an error occured: ${err}`))\r\n    } else {\r\n      let person = persons.find(person => person.name === newName)\r\n      updatePerson(person)\r\n    }\r\n  }\r\n\r\n  const updatePerson = person => {\r\n    let id = person.id\r\n    // Update person\r\n    if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\r\n      let changedPerson = { ...person, number: newNumber }\r\n      let name = person.name\r\n      personService\r\n        .updatePerson(id, changedPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n          setSuccessMessage(`Updated ${returnedPerson.name}`)\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setTimeout(() => {\r\n          setSuccessMessage(null)\r\n        }, 5000);\r\n        })\r\n        .catch(err => {\r\n          setErrorMessage(`Information of ${name} has already been removed from server`)\r\n          console.log(err)\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setTimeout(() => {\r\n            setSuccessMessage(null)\r\n          }, 5000);\r\n\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearch(e.target.value)\r\n  }\r\n\r\n  const handleDelete = (e) => {\r\n    let id = e.target.id\r\n    let person = persons.filter(person => person.id === id)[0]\r\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`)) {\r\n      personService\r\n      .deletePerson(id)\r\n      .then (response => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n      .catch(err => console.log(`an error occured: ${err}`))\r\n    }\r\n  }\r\n\r\n  const showPersons = search === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification errorMessage={errorMessage} successMessage={successMessage}/>\r\n      <Search handleSearchChange={handleSearchChange} search={search}/>\r\n      <h3>Add a new person</h3>\r\n      <PersonForm addPerson={addPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\r\n      <h3>Numbers</h3>\r\n      <Persons showPersons={showPersons} handleDelete={handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}